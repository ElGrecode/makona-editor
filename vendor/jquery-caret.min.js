(function(b){b.caretTo=function(a,b){if(a.createTextRange){var d=a.createTextRange();d.move("character",b);d.select()}else null!=a.selectionStart&&(a.focus(),a.setSelectionRange(b,b))};b.caretPos=function(a){if("selection"in document){a=a.createTextRange();try{a.setEndPoint("EndToStart",document.selection.createRange())}catch(b){return 0}return a.text.length}if(null!=a.selectionStart)return a.selectionStart};b.fn.caret=function(a,e){return"undefined"===typeof a?b.caretPos(this.get(0)):this.queue(function(d){if(isNaN(a)){var c=
b(this).val().indexOf(a);!0===e?c+=a.length:"undefined"!==typeof e&&(c+=e);b.caretTo(this,c)}else b.caretTo(this,a);d()})};b.fn.caretToStart=function(){return this.caret(0)};b.fn.caretToEnd=function(){return this.queue(function(a){b.caretTo(this,b(this).val().length);a()})}})(jQuery);